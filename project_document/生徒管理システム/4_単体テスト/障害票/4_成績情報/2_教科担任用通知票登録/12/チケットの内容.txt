問題
  ランクありの教科を表示後、明細の内容を変更してランクセレクトボックスの値を変更すると
  明細が初期化されずにランクセレクトボックスの値が変更できる。

対応内容
  ランクセレクトボックスが変更された場合、明細の初期化を行ってください。
  その際に、明細の内容が変更されていた場合
  入力内容破棄確認メッセージも忘れずに出力するようにしてください。